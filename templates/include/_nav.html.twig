<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: black">
	<div class="container-fluid">
		<a class="ms-auto navbar-brand py-1" id="mainLogo" href="{{ path('default_home') }}">

			<img src="{{ asset('images/LOGO_METALLIAN_ESHOP.png') }}"  style="height: 80px; width: 213px" title="Metallian logo" alt="Metallian logo"/>

		</a>

		<div class="m-0 row">

			<div class="row mx-auto " style="heigth: 3em; color: white">

				<div class="col-md-4 text-center d-xl-block d-md-block d-none sm-none md-none">Livré sous 24 ou 48h</div>
				<div class="col-md-4 text-center d-xl-block d-md-block d-none sm-none md-none">Plus de 8 000 articles en stock</div>
				<div class="col-md-4 text-center d-xl-block d-md-block d-none sm-none md-none">Retour gratuit sous 30 jours</div>

			</div>

			<div class="mx-auto py-2 text-center">
				<form action="{{ path('render_search_article')}}" id="search" method="GET">
					<div>
						<input class="me-2 searchBar align-middle text-white" type="search" placeholder="Entrez votre recherche" id="searchBar" name="search" aria-label="Search"><i type="button" onclick="document.getElementById('search').submit()" id="searchBar-icon" class="align-middle fa-solid fa-magnifying-glass"></i>
					</div>
				</form>
			</div>

		</div>

		<div class="row me-auto" id="mainNav">

			{% if is_granted("ROLE_ADMIN") %}

				<div class="nav-item col-3">
					<a class="nav-link text-white" style="padding-top: 0.38em" href="{{ path('admin') }}">
						<i class="fa-solid fa-screwdriver-wrench mx-2"></i>
					</a>
				</div>

			{% endif %}

			<div class="nav-item col-3">

				{% if app.user %}
					<a class="nav-link text-white" style="padding-top: 0.38em" href="{{ path('show_favorite_products', {"id": app.user.id}) }}">
						<i class="fa-solid fa-heart mx-2"></i>
					</a>

				{% else %}

					<a class="nav-link text-white" style="padding-top: 0.38em" href="{{ path('app_login') }}">
						<i class="fa-solid fa-heart mx-2"></i>
					</a>

				{% endif %}

			</div>

			<div class="dropdown col-3">
				{% if app.user %}
					<a class="btn btn-secondary dropdown-toggle border-0" style="background-color: black" href="{{ path('show_profile', {"id": app.user.id}) }}" aria-expanded="false">
						<i class="fa-solid fa-user"></i>
					</a>
				{% else %}
					<a class="btn btn-secondary dropdown-toggle border-0" style="background-color: black" href="{{ path('app_login') }}" aria-expanded="false">
						<i class="fa-solid fa-user"></i>
					</a>
				{% endif %}

				<ul class="dropdown-menu rounded-0">
					{% if app.user %}

						<li>
							<a class="dropdown-item text-underline-hover fw-bold mb-3 mt-3" href="{{ path('show_profile', {"id": app.user.id}) }}">Espace perso</a>
						</li>
						<li>
							<a class="dropdown-item text-underline-hover mb-3" href="{{ path('show_profile_orders', {"id": app.user.id}) }}">Mes commandes</a>
						</li>
						<li>
							<a class="dropdown-item text-underline-hover mb-3" href="{{ path('email_contact') }}">Contactez nous</a>
						</li>
						<li><hr class="dropdown-divider"></li>
						<li>
							<a class="dropdown-item text-underline-hover mb-3" href="{{ path('app_logout') }}">
								<i class="fa-solid fa-right-from-bracket mx-2"></i>
								Se Déconnecter
							</a>
						</li>

					{% else %}

						<li>
							<a class="dropdown-item text-underline-hover fw-bold mb-3 mt-3" href="{{ path('app_login') }}">Se connecter</a>
						</li>
						<li>
							<a class="dropdown-item text-underline-hover mb-3" href="{{ path('user_register') }}">S'inscrire</a>
						</li>
						<li><hr class="dropdown-divider"></li>
						<li>
							<a class="dropdown-item text-underline-hover mb-3" href="{{ path('email_contact') }}">Contactez nous</a>
						</li>

					{% endif %}
				</ul>
			</div>

			<div class="dropdown col-3">
				<a class="btn btn-secondary dropdown-toggle border-0" title="Voir votre panier" style="background-color: black" href="{{ path('show_cart_details') }}" aria-expanded="false">
					<i class="fa-solid fa-basket-shopping"></i>
				</a>

				<ul class="dropdown-menu rounded-0">

					<li>
						<a class="dropdown-item " style="white-space: normal; min-width: 15rem" href="#">{{ render(url('show_cart')) }}</a>
					</li>


				</ul>

			</div>

		</div>
	</div>
</nav>

<nav class="navbar navbar-expand-lg ">
	<div class="container-fluid" style="background-color: rgb(205, 0, 25)">

		<button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">

			<div class="offcanvas-header">
				<h4 class="offcanvas-title" id="offcanvasNavbarLabel">Catégories</h4>
				<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
			</div>

			{# Nav catégories #}

			<div class="offcanvas-body">

				<ul class="navbar-nav mx-auto mb-2 mb-lg-0">

					{# Nouveautés drop down #}

					<li class="nav-item">
						<div class="navigation-color">
							<a class="nav-link text-white" href="{{ path('new_products') }}" aria-expanded="false">

								NOUVEAUTES

							</a>
						</div>
						
					</li>

					{{ render(url('render_categories_in_nav')) }}

					{{ render(url('render_categories_merchandising_in_nav')) }}

				</ul>

			</div>

		</div>
	</div>
</nav>

	<script>

		var x = window.matchMedia("(max-width: 1000px)")
		myFunction(x)
		x.addListener(myFunction)

		function myFunction(x) {
			if (x.matches) { 
				document.getElementById('mainLogo').classList.add('mx-auto');
				document.getElementById('mainNav').classList.add('mx-auto');
			} else {
				document.getElementById('mainLogo').classList.remove('mx-auto');
				document.getElementById('mainNav').classList.remove('mx-auto');
			}
		}

	</script>